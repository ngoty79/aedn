<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="'siteadmin/layout/common_layout'">
<head>
    <link href="/assets/templates/admin/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css" rel="stylesheet" type="text/css" />
    <link href="/assets/vendors/bootstrap.table/1.9.1/bootstrap-table.min.css" rel="stylesheet" type="text/css" />
    <link href="/assets/vendors/jquery.loadmask/jquery.loadmask.css" rel="stylesheet" type="text/css" />
    <link href="/assets/applications/siteadmin/css/report/style.css" rel="stylesheet" type="text/css" />

</head>
<body>

<!-- BEGIN CONTENT -->
<div layout:fragment="page-content" class="page-content-wrapper">
    <!-- BEGIN CONTENT BODY -->
    <div class="page-content" id="container-biz-report">
        <div class="inbox">
            <div class="form-horizontal">
                <div class="row form-group">
                    <div class="col-md-12 report-page-title">
                        <label class="">BÁO CÁO TÌNH HÌNH KINH DOANH</label>
                    </div>
                </div>
                <div class="row form-group">
                    <label class="col-lg-2 col-md-2 col-sm-3 control-label">Kỳ báo cáo:</label>
                    <div class="col-lg-2 col-md-3 col-sm-4">
                        <select name="viewType" class="form-control">
                            <option value="3">3 tháng gần nhất</option>
                            <option value="6" selected>6 tháng gần nhất</option>
                            <option value="9">9 tháng gần nhất</option>
                            <option value="12">12 tháng gần nhất</option>
                        </select>
                    </div>
                    <div class="col-lg-1 col-md-1 col-sm-2">
                        <button id="btn-search" type="button" class="btn green">Xem</button>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <table class="table table-bordered table-report">
                        <thead>
                            <tr>
                                <th class="header-first cell-header">Khoản mục</th>
                                <th class="cell-header text-center" th:each="reportView : ${reports}">[[${reportView.monthYear}]]</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th>Thu lãi</th>
                                <td th:each="reportView : ${reports}">[[${#numbers.formatInteger(reportView.loanProfit, 0,'COMMA')}]] </td>
                            </tr>
                            <tr>
                                <th>Tiền Lẻ</th>
                                <td th:each="reportView : ${reports}" data-type="revenue" th:data-month-year="${reportView.monthYear}" th:data-common-code="${reportView.REVENUE_CASH}">
                                    <a href="javascript: void(0);" data-toggle="tooltip" title="Cick vào để xem chi tiết"> [[${#numbers.formatInteger(reportView.cash, 0,'COMMA')}]] </a>
                                </td>
                            </tr>
                            <tr>
                                <th>Phí làm hồ sơ</th>
                                <td th:each="reportView : ${reports}" data-type="revenue" th:data-month-year="${reportView.monthYear}" th:data-common-code="${reportView.REVENUE_PROFILE_COST}">
                                    <a href="javascript: void(0);" data-toggle="tooltip" title="Cick vào để xem chi tiết"> [[${#numbers.formatInteger(reportView.profileCost, 0,'COMMA')}]] </a>
                                </td>
                            </tr>
                            <tr>
                                <th>Thu khác</th>
                                <td th:each="reportView : ${reports}" data-type="revenue" th:data-month-year="${reportView.monthYear}" th:data-common-code="${reportView.REVENUE_OTHER}">
                                    <a href="javascript: void(0);" data-toggle="tooltip" title="Cick vào để xem chi tiết"> [[${#numbers.formatInteger(reportView.otherRevenue, 0,'COMMA')}]] </a>
                                </td>
                            </tr>
                            <tr>
                                <th>Lãi tiền gửi NH</th>
                                <td th:each="reportView : ${reports}" data-type="revenue" th:data-month-year="${reportView.monthYear}" th:data-common-code="${reportView.REVENUE_BANK_INTEREST}">
                                    <a href="javascript: void(0);" data-toggle="tooltip" title="Cick vào để xem chi tiết"> [[${#numbers.formatInteger(reportView.bankInterest, 0,'COMMA')}]] </a>
                                </td>
                            </tr>
                            <tr class="sumary-row">
                                <th>Tổng thu</th>
                                <td th:each="reportView : ${reports}">[[${#numbers.formatInteger(reportView.totalRevenue, 0,'COMMA')}]] </td>
                            </tr>
                            <tr>
                                <th th:colspan="${reports.size() + 1}"><br> </th>
                            </tr>
                            <tr>
                                <th>Văn phòng phẩm </th>
                                <td th:each="reportView : ${reports}" data-type="cost" th:data-month-year="${reportView.monthYear}" th:data-common-code="${reportView.COST_OFFICE_STUFF}">
                                    <a href="javascript: void(0);" data-toggle="tooltip" title="Cick vào để xem chi tiết"> [[${#numbers.formatInteger(reportView.officeStuff, 0,'COMMA')}]] </a>
                                </td>
                            </tr>
                            <tr>
                                <th>Phí rút tiền mặt</th>
                                <td th:each="reportView : ${reports}" data-type="cost" th:data-month-year="${reportView.monthYear}" th:data-common-code="${reportView.COST_WITHDRAW_FEE}">
                                    <a href="javascript: void(0);" data-toggle="tooltip" title="Cick vào để xem chi tiết"> [[${#numbers.formatInteger(reportView.withdrawFee, 0,'COMMA')}]] </a>
                                </td>
                            </tr>
                            <tr>
                                <th>Chi lương</th>
                                <td th:each="reportView : ${reports}">[[${#numbers.formatInteger(0, 0,'COMMA')}]] </td>
                            </tr>
                            <tr>
                                <th>Chi thưởng</th>
                                <td th:each="reportView : ${reports}" data-type="cost" th:data-month-year="${reportView.monthYear}" th:data-common-code="${reportView.COST_BONUS}">
                                    <a href="javascript: void(0);" data-toggle="tooltip" title="Cick vào để xem chi tiết"> [[${#numbers.formatInteger(reportView.bonus, 0,'COMMA')}]] </a>
                                </td>
                            </tr>
                            <tr>
                                <th>Trích lương tháng 13</th>
                                <td th:each="reportView : ${reports}" data-type="cost" th:data-month-year="${reportView.monthYear}" th:data-common-code="${reportView.COST_13TH_SALARY}">
                                    <a href="javascript: void(0);" data-toggle="tooltip" title="Cick vào để xem chi tiết"> [[${#numbers.formatInteger(reportView.salary13th, 0,'COMMA')}]] </a>
                                </td>
                            </tr>
                            <tr>
                                <th>Chi khác</th>
                                <td th:each="reportView : ${reports}" data-type="cost" th:data-month-year="${reportView.monthYear}" th:data-common-code="${reportView.COST_OTHERS}">
                                    <a href="javascript: void(0);" data-toggle="tooltip" title="Cick vào để xem chi tiết"> [[${#numbers.formatInteger(reportView.otherCost, 0,'COMMA')}]] </a>
                                </td>
                            </tr>
                            <tr>
                                <th>Chi trả tiền lãi vay</th>
                                <td th:each="reportView : ${reports}" data-type="cost" th:data-month-year="${reportView.monthYear}" th:data-common-code="${reportView.COST_INTEREST_COST}">
                                    <a href="javascript: void(0);" data-toggle="tooltip" title="Cick vào để xem chi tiết"> [[${#numbers.formatInteger(reportView.interestCost, 0,'COMMA')}]] </a>
                                </td>
                            </tr>
                            <tr>
                                <th>Chi hoạt động </th>
                                <td th:each="reportView : ${reports}" data-type="cost" th:data-month-year="${reportView.monthYear}" th:data-common-code="${reportView.COST_OPERATING}">
                                    <a href="javascript: void(0);" data-toggle="tooltip" title="Cick vào để xem chi tiết"> [[${#numbers.formatInteger(reportView.operatingCost, 0,'COMMA')}]] </a>
                                </td>
                            </tr>
                            <tr>
                                <th>Chi giảm lãi </th>
                                <td th:each="reportView : ${reports}" data-type="cost" th:data-month-year="${reportView.monthYear}" th:data-common-code="${reportView.COST_GIAM_LAI}">
                                    <a href="javascript: void(0);" data-toggle="tooltip" title="Cick vào để xem chi tiết"> [[${#numbers.formatInteger(reportView.giamLai, 0,'COMMA')}]] </a>
                                </td>
                            </tr>
                            <tr>
                                <th>Sinh nhật </th>
                                <td th:each="reportView : ${reports}" data-type="cost" th:data-month-year="${reportView.monthYear}" th:data-common-code="${reportView.COST_BIRTHDAY}">
                                    <a href="javascript: void(0);" data-toggle="tooltip" title="Cick vào để xem chi tiết"> [[${#numbers.formatInteger(reportView.birthdayCost, 0,'COMMA')}]] </a>
                                </td>
                            </tr>
                            <tr>
                                <th>Đồng phục </th>
                                <td th:each="reportView : ${reports}" data-type="cost" th:data-month-year="${reportView.monthYear}" th:data-common-code="${reportView.COST_UNIFORM}">
                                    <a href="javascript: void(0);" data-toggle="tooltip" title="Cick vào để xem chi tiết"> [[${#numbers.formatInteger(reportView.uniformCost, 0,'COMMA')}]] </a>
                                </td>
                            </tr>
                            <tr>
                                <th>Bảo hiểm </th>
                                <td th:each="reportView : ${reports}" data-type="cost" th:data-month-year="${reportView.monthYear}" th:data-common-code="${reportView.COST_INSURANCE}">
                                    <a href="javascript: void(0);" data-toggle="tooltip" title="Cick vào để xem chi tiết"> [[${#numbers.formatInteger(reportView.insuranceCost, 0,'COMMA')}]] </a>
                                </td>
                            </tr>
                            <tr>
                                <th>Tiền xăng </th>
                                <td th:each="reportView : ${reports}" data-type="cost" th:data-month-year="${reportView.monthYear}" th:data-common-code="${reportView.COST_OIL}">
                                    <a href="javascript: void(0);" data-toggle="tooltip" title="Cick vào để xem chi tiết"> [[${#numbers.formatInteger(reportView.oilCost, 0,'COMMA')}]] </a>
                                </td>
                            </tr>
                            <tr>
                                <th>Card điện thoại </th>
                                <td th:each="reportView : ${reports}" data-type="cost" th:data-month-year="${reportView.monthYear}" th:data-common-code="${reportView.COST_TEL_CARD}">
                                    <a href="javascript: void(0);" data-toggle="tooltip" title="Cick vào để xem chi tiết"> [[${#numbers.formatInteger(reportView.telCardCost, 0,'COMMA')}]] </a>
                                </td>
                            </tr>
                            <tr class="sumary-row">
                                <th>Tổng chi </th>
                                <td th:each="reportView : ${reports}">[[${#numbers.formatInteger(reportView.totalCost, 0,'COMMA')}]] </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="modal fade" id="modal-detail" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-md" role="document" style="width: 700px;">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Chi tiết</h4>
                        </div>
                        <div class="modal-body">
                            <div class="row form-group">
                                <label class="control-label col-md-2 " style="width: 90px;margin-top:10px;">Thời gian</label>
                                <div class=" col-md-3 ">
                                    <div class="input-group">
                                        <div class="input-group ">
                                            <div class="input-group-addon"><i class="fa fa-calendar-check-o text-primary" aria-hidden="true"></i></div>
                                            <input id="start-date" name="date" type="text" class="form-control" placeholder="ngày bắt đầu">
                                        </div>
                                    </div>
                                </div>
                                <div class=" col-md-3 ">
                                    <div class="input-group">
                                        <div class="input-group ">
                                            <div class="input-group-addon"><i class="fa fa-calendar-check-o text-primary" aria-hidden="true"></i></div>
                                            <input id="end-date" name="date" type="text" class="form-control" placeholder="Ngày kết thúc">
                                        </div>
                                    </div>
                                </div>
                                <div class=" col-md-4 ">
                                    <select class="form-control" id="select-revenue" style="display: none;">
                                        <option th:each="code : ${revenues}" th:value="${code.commonCode}" th:text="${code.commonCodeName}"></option>
                                    </select>
                                    <select class="form-control" id="select-cost" style="display: none;">
                                        <option th:each="code : ${costs}" th:value="${code.commonCode}" th:text="${code.commonCodeName}"></option>
                                    </select>
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class=" col-md-12 ">
                                    <table id="table-detail"></table>
                                </div>

                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Đóng</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>
    <!-- END CONTENT BODY -->
</div>
<!-- END CONTENT -->

<div style="display: none;" layout:fragment="page-scripts">
    <script src="/assets/templates/admin/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js" type="text/javascript"></script>
    <script src="/assets/templates/admin/global/plugins/bootstrap-datepicker/locales/bootstrap-datepicker.vi.min.js" type="text/javascript"></script>
    <script src="/assets/vendors/jquery.tmpl/1.4.2/jquery.tmpl.min.js" type="text/javascript"></script>
    <script src="/assets/vendors/bootstrap.table/1.9.1/bootstrap-table.min.js" type="text/javascript"></script>
    <script src="/assets/vendors/bootstrap.table/1.9.1/locale/bootstrap-table-vi-VN.js" type="text/javascript"></script>
    <script src="/assets/vendors/numeral/numeral.min.js" type="text/javascript"></script>
    <script src="/assets/applications/siteadmin/scripts/report/bizReport.js" type="text/javascript"></script>
</div>
</body>
</html>